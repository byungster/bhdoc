# 5. PHP 기반 웹 (2015.12 ~ 2017.06)

## 서비스 사이트

### 테이블 tr 레이지 로딩
PHP 에서는 DB를 직접 붙는다!
근데 일부 케이스에서 내부 API를 통한 결과를 보여주기도 한다!
가령 실시간 집계 연락처 목록이 그에 해당한다.
문제는 DB 응답 시간과 API 응답 시간에 차이가 클 경우이다.
DB에서 받은 걸 미리 뿌려주고 나서도 한참을 API 응답을 못받는 유저가 있는데,
하필이면 연락처의 볼륨이 큰 유저들이 그렇다. 심지어 쓰는 돈도 많은데.. 불편함을 겪는다 하여
신속하게 Table에서 비동기 동작에도 문제가 없도록 변경한다.
지금은 Vue를 쓰니까 이런 이슈는 금방해결했겠지만.
이때는 컴포넌트를 자체적으로 만들어 사용했고 반응성이 있지도 않았어서,
특정 Table의 Table Record가 레이지 로딩이 될 수 있도록 변경하였다.

서론이 길었는데, 아무튼
Loading gif를 Append 해놓고, call이 들어오면 해당 Tr을 제거하고 TD를 붙여주는 형식이다.
그러면 데이터가 로딩되기 전까지는 loading 이미지가 보여지다가, Call이 완료된 이후에는 진짜 데이터가 표시된다.

### Textarea 커스터마이징

##### 치환문자
치환문자라는 개념이 있다.
Textarea에 입력되는 문자열들 중에서도, 불변영역을 만들어내야한다.
치환문자는 DB에 저장된 이후에, 스케줄러가 실제 메시지 발송에 활용하려고 할때, 대신해서 URL이나 사용자가 갖고있는 리소스를 가져다가
특정 문자열로 치환해주기때문이다. 즉, 훼손되면 안되는 문자열이다.
keydown/up, mousedown/move/up, 등의 문자열의 변동을 일으키는 사용자 이벤트를 모두 재정의한다.

##### Tracking URL Advanced Option
팝업, 테이블 추가

### Report 차트 (바, 도넛, 파이)

1. Autocampaign > End 통계 관련 라이브러리 추가
2. Email > Open count, Survey 관련 바 차트 추가
3. Contact > Opt out 통계 관련 차트 라이브러리 연동

### 롱코드 프로비전 기능 추가

1. 신규 전화번호 생성을 위한 전용 백오피스/어카운트 관리 팝업 추가
2. Bandwidth 프로비전을 미국 직원이 관리할 수 있는 백오피스 추가


## 직원 사이트

### DB 쿼리 페이지 개발


미결제 고객 조회
크레딧 보유량 조회
인증 실패 이력 조회
매달 발송량 조회

등등 정보 조회를 직원이 쉽게 할 수 있도록 UI 제공, CSV 파일 다운로드 가능

### 모니터랑 스크린 유지보수
 - 스팸성 메시지 방지를 위한 지원
 - 모니터링 및 고객 필터링 및 과금 관리)하는 페이지를


### 이머전시 대응
